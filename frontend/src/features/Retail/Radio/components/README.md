# Веб-радио плеер

## Описание
Веб-радио плеер для проигрывания радио потоков в браузере. Создан по образцу Android приложения DNS Radio и интегрирован в модуль Radio. Позволяет пользователям прослушивать активные радио потоки прямо в веб-интерфейсе с полным соответствием дизайну и функциональности мобильной версии.

## Функциональность

### Основные возможности:
- ✅ **Проигрывание радио потоков** - воспроизведение активных потоков
- ✅ **Управление воспроизведением** - play/pause с центральной кнопкой
- ✅ **Контроль времени работы** - автоматическая остановка вне рабочего времени
- ✅ **Проверка интернета** - уведомления о статусе соединения
- ✅ **Список потоков** - выбор из доступных радио потоков
- ✅ **Статус потоков** - отображение активных/неактивных потоков
- ✅ **Информация о филиале** - отображение названия и типа филиала
- ✅ **Адаптивный дизайн** - поддержка мобильных устройств

### Элементы управления:
- **Play/Pause** - центральная кнопка воспроизведения (как в Android)
- **Список потоков** - выбор активного потока
- **Статус соединения** - индикатор онлайн/офлайн
- **Время работы** - автоматический контроль рабочего времени

## Технические детали

### Frontend:
- **React** с TypeScript
- **Mantine UI** для компонентов
- **HTML5 Audio API** для воспроизведения
- **CSS анимации** для улучшения UX
- **Автоматические проверки** времени работы и интернета

### Backend:
- **Express.js** endpoint `/radio/stream/:id/play`
- **Потоковая передача** аудио файлов
- **Проверка активности** потоков
- **Валидация файлов** перед отправкой

### API Endpoints:
```
GET /hub-api/radio/streams - получение списка потоков
GET /hub-api/radio/stream/:id/play - проигрывание потока
```

### Соответствие Android версии:
- **Дизайн** - точное воспроизведение layout из Android приложения
- **Функциональность** - контроль времени работы, проверка интернета
- **UX** - центральная кнопка воспроизведения, статус соединения
- **Информация** - отображение филиала, времени работы, статуса

## Использование

### Интеграция в компонент:
```tsx
import WebRadioPlayer from './components/WebRadioPlayer';

// В JSX:
<WebRadioPlayer 
  branchName={user?.branch || "Мой филиал"}
  branchType={user?.branch || "Магазин"}
  workingTime={{
    start: "08:00",
    end: "22:00"
  }}
/>
```

### Пропсы:
- `branchName` - название филиала (отображается внизу)
- `branchType` - тип филиала (отображается внизу)
- `workingTime` - время работы (объект с start и end)

### CSS классы:
- `.web-radio-player` - основной контейнер
- `.stream-item` - элемент списка потоков
- `.stream-item.active` - активный поток

## Поддерживаемые форматы
- **MP3** - основной формат
- **AAC** - альтернативный формат
- **OGG** - для браузеров с поддержкой

## Браузерная совместимость
- ✅ Chrome 60+
- ✅ Firefox 55+
- ✅ Safari 11+
- ✅ Edge 79+

## Планы развития
- [ ] **Загрузка музыки** - интеграция с системой загрузки музыкальных файлов
- [ ] **Плейлист** - автоматическое переключение между треками и потоками
- [ ] **Громкость** - слайдер громкости и сохранение настроек
- [ ] **Прогресс-бар** - отображение текущего времени воспроизведения
- [ ] **Уведомления** - уведомления о смене трека и статусе
- [ ] **Горячие клавиши** - поддержка клавиатурных сокращений
- [ ] **Мини-плеер** - компактный режим для фонового воспроизведения
- [ ] **Синхронизация** - синхронизация с Android приложением
