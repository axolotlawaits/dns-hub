/* Используем те же классы, что и в мерче для единообразия */
.hierarchy-block {
  display: flex;
  align-items: center;
  border-radius: var(--mantine-radius-md);
  border: 1px solid light-dark(var(--mantine-color-gray-2), var(--color-accent-20));
  background-color: light-dark(var(--mantine-color-white), var(--theme-bg-secondary));
  margin-bottom: var(--mantine-spacing-xs);
  gap: var(--mantine-spacing-sm);
  cursor: pointer;
  transition: background-color 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease,
    transform 0.2s ease;
  position: relative;
}

.hierarchy-block:hover {
  background-color: light-dark(var(--mantine-color-gray-0), var(--mantine-color-dark-6));
  border-color: var(--color-accent-30);
  box-shadow: var(--theme-shadow-sm);
  transform: translateX(2px);
}

.hierarchy-block-selected {
  background-color: light-dark(var(--mantine-color-blue-0), var(--color-accent-10)) !important;
  border-color: light-dark(var(--mantine-color-blue-4), var(--color-accent-50)) !important;
  box-shadow: 0 0 0 3px var(--color-accent-10);
}

.hierarchy-block-expanded {
  border-left-width: 3px;
  border-left-color: var(--color-accent-40);
}

.hierarchy-block-selected.hierarchy-block-expanded {
  border-left-color: light-dark(var(--mantine-color-blue-4), var(--color-accent-70));
  background-color: light-dark(var(--mantine-color-blue-0), var(--color-accent-10)) !important;
}

.hierarchy-chevron {
  color: light-dark(var(--color-primary-600), var(--color-accent-light-80));
  transform: rotate(var(--rotation, 0deg));
  transition: transform 0.2s ease;
}

/* Placeholder для иконки раскрытия, чтобы текст не прыгал, когда детей нет */
.hierarchy-chevron-wrapper {
  width: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.hierarchy-button {
  flex: 1;
  justify-content: flex-start;
  color: var(--theme-text-primary);
  font-weight: 500;
  transition: color 0.2s ease;
}

.hierarchy-block-selected .hierarchy-button {
  color: light-dark(var(--mantine-color-blue-7), var(--color-accent-light-90));
  font-weight: 600;
}

.hierarchy-children-container {
  margin-left: 18px;
  margin-bottom:10px;
  /* Убрали вертикальную линию слева */
  border-left: none;
  position: relative;
}

.hierarchy-children-container::before {
  /* Отключаем декоративную вертикальную линию */
  content: none;
}

.hierarchy-block-selected .hierarchy-children-container {
  border-left-color: var(--color-accent-40);
  border-left-width: 3px;
  padding-left: 15px;
}

.hierarchy-block-selected .hierarchy-children-container::before {
  background: var(--color-accent-40);
  width: 3px;
  left: -3px;
}

/* Темная тема - синеватые цвета как в портале */
[data-mantine-color-scheme="dark"] .hierarchy-block {
  background: linear-gradient(135deg, var(--theme-bg-secondary) 0%, var(--color-accent-05) 100%);
  border-color: var(--color-accent-20);
}

[data-mantine-color-scheme="dark"] .hierarchy-block:hover {
  background: linear-gradient(135deg, var(--theme-bg-secondary) 0%, var(--color-accent-10) 100%);
  border-color: var(--color-accent-40);
}

.hierarchy-loading-container {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 60px;
  margin-top: 4px;
  color: var(--theme-text-secondary);
  font-style: italic;
}

.hierarchy-add-button-container {
  text-align: center;
}

/* Фиксированный заголовок (поиск + кнопка сортировки) внутри скролла иерархии */
.hierarchy-header {
  position: sticky;
  top: 0;
  z-index: 2;
  background: var(--theme-bg-elevated);
}

/* Выравнивание текста категории строго по левому краю */
.hierarchy-title-button {
  display: flex;
  align-items: center;
  flex: 1;
  border: none;
  background: transparent;
  cursor: pointer;
  text-align: left;
}

.hierarchy-title-text {
  width: 100%;
  text-align: left;
}
