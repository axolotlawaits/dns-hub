datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

/* handbook models */

model UserData {
  uuid              String          @id @default(uuid())
  birthday          DateTime
  code              String
  branch            Branch          @relation(fields: [branch_uuid], references: [uuid])
  branch_uuid       String          @unique
  email             String          @unique
  status            String
  start_date        DateTime
  end_date          DateTime
  last_update       DateTime       @updatedAt
  user              User?
}

model Branch {
  uuid              String          @id @default(uuid())
  division          String          
  code              String
  name              String
  status            Int
  city              String
  address           String
  last_update       DateTime
  userData          UserData?
}

/* app models */

model User {
  id               String         @id @default(uuid())
  name             String
  email            String         @unique
  position         String
  branch           String
  image            String?         
  login            String         @unique
  updatedAt        DateTime       @updatedAt
  userData         UserData       @relation(fields: [userDataEmail], references: [email])
  userDataEmail    String         @unique
}

